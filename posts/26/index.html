<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  
  
  <title>Think In Geek</title>
  <meta name="description" content="In geek we trust">
  

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="https://thinkingeek.com/posts/26/">
  
  
  <link rel="alternate" type="application/rss+xml" title="Think In Geek" href="https://thinkingeek.com/feed.xml">

  

  
  <meta property="og:title" content="Think In Geek">
  <meta property="og:site_name" content="Think In Geek">
  <meta property="og:url" content="https://thinkingeek.com/posts/26/">
  <meta property="og:description" content="In geek we trust">
  
  
  <meta name="twitter:card" content="summary">
  
  <meta name="twitter:title" content="Think In Geek">
  <meta name="twitter:description" content="In geek we trust">
  
  

  <link rel="dns-prefetch" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
<link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700" rel="stylesheet">

  

</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

      <span class="site-title"><a href="/">Think In Geek</a> | </span>
      <span class="site-slogan">In geek we trust</span>

    <nav class="site-nav"><a class="page-link" href="/arm-assembler-raspberry-pi/">Arm Assembler Raspberry Pi</a><a class="page-link" href="/gcc-tiny/">GCC tiny</a><a class="page-link" href="/author/brafales/">Posts by Bernat Ràfales</a><a class="page-link" href="/archives/">Archives</a></nav>

  </div>

</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="home">

  <ul class="post-list"><li>
        <header class="post-header">
          <h1 class="post-title"><a class="post-link" href="/2010/12/14/routing-a-hiearchical-path-in-asp-net-mvc/">Routing a hiearchical path in ASP.NET MVC</a></h1>

          <p class="post-meta">
            Dec 14, 2010• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Bernat Ràfales</span></span> • <a href="/categories/uncategorized/">Uncategorized</a> • <a href="/tags/c/">c#</a>, <a href="/tags/mvc/">MVC</a></p>
        </header>

        <div class="post-content">
          <p>If you wonder how to make a <a href="http://www.github.com">GitHub</a> (and other websites) like routes to access to hierarchical paths or files, here's the way to do it in <em>ASP.NET MVC</em>. GitHub is a <a href="http://git-scm.com/">GIT</a> hosting service, and allows you to browse the repositories. When doing so, it uses a path as a routing parameter, as seen in this URL: <em>https://github.com/erikzaadi/GithubSharp/blob/master/Core/Models/Commit.cs</em>. This includes slashes and so to represent the directories, and is a parameter that depends on the file location inside the repository. A route like this can be done in ASP.NET using the called <em>catch-all parameter</em>.
</p>
<p>
The catch-all parameter allows you to use a wildcard on a route, so it takes everything after a given route as a single parameter. You can find the explanation of this feature in <a href="http://msdn.microsoft.com/en-us/library/cc668201.aspx#handling_a_variable_number_of_segments_in_a_url_pattern">the ASP.NET Routing MASDN help page</a>.
</p>
<p>
All you need to do to make a route like the one in the example to work is add this code to your <em>Global.asax</em> file, in the <em>RegisterRoutes</em> method:
</p>
<p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="n">routes</span><span class="p">.</span><span class="nf">MapRoute</span><span class="p">(</span>
    <span class="s">"Blob"</span><span class="p">,</span>
    <span class="s">"{*path}"</span><span class="p">,</span>
    <span class="k">new</span> <span class="p">{</span> <span class="n">controller</span> <span class="p">=</span> <span class="s">"Blob"</span><span class="p">,</span> <span class="n">action</span> <span class="p">=</span> <span class="s">"GetContents"</span> <span class="p">}</span>
<span class="p">);</span></code></pre></figure>

</p>
<p>
This will pass the controller <em>Blob</em> a parameter called <em>path</em> that will contain the parameter you want (in the example that would be <em>master/Core/Models/Commit.cs</em>. All you have to do now is use this parameter as you wish so you can access the desired file and show it's contents on a web page.
</p>

        </div></li><li>
        <header class="post-header">
          <h1 class="post-title"><a class="post-link" href="/2010/12/02/get-the-number-of-days-in-a-month-in-net/">Get the number of days in a month in .NET</a></h1>

          <p class="post-meta">
            Dec 2, 2010• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Bernat Ràfales</span></span> • <a href="/categories/uncategorized/">Uncategorized</a> • <a href="/tags/net/">.net</a>, <a href="/tags/c/">c#</a></p>
        </header>

        <div class="post-content">
          <p>If you've ever wondered how to get the number of days for a given month in .NET, the solution is pretty easy:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="n">System</span><span class="p">.</span><span class="n">DateTime</span><span class="p">.</span><span class="nf">DaysInMonth</span><span class="p">(</span><span class="kt">int</span> <span class="n">year</span><span class="p">,</span> <span class="kt">int</span> <span class="n">month</span><span class="p">)</span></code></pre></figure>

<p>
Hope it helps!
</p>

        </div></li><li>
        <header class="post-header">
          <h1 class="post-title"><a class="post-link" href="/2010/11/24/execute-javascript-code-every-time-a-form-is-loaded-via-ajax-beginform/">Execute javascript code every time a form is loaded via Ajax.BeginForm</a></h1>

          <p class="post-meta">
            Nov 24, 2010• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Bernat Ràfales</span></span> • <a href="/categories/uncategorized/">Uncategorized</a> • <a href="/tags/ajax/">ajax</a>, <a href="/tags/c/">c#</a>, <a href="/tags/javascript/">javascript</a>, <a href="/tags/jquery/">jquery</a>, <a href="/tags/mvc/">MVC</a></p>
        </header>

        <div class="post-content">
          <p>
If you've ever used the <em>Ajax.BeginForm</em> code to render a form in ASP MVC using Ajax (via jQuery, for example), you may have wondered there's an object you can pass to the call called <em>AjaxOptions</em>. This object allows you to pass the BeginForm call some interesting options to further enhance the form when it's rendered. One of those options is specially useful if you want some javascript to be executed just after the form has been rendered. You can always use the <em>$(document).ready</em> in jQuery, but this code will not be called if, for example, the form is rendered after a postback and you have some validation errors (a missing required field, for example). Fortunately, you can use the <em>AjaxOptions</em> object to tell the form to execute a method right after the form has been loaded (for the first time or after a postback).
</p>

        </div><p class="post-continue">
            <a href="/2010/11/24/execute-javascript-code-every-time-a-form-is-loaded-via-ajax-beginform/">Read on &rarr;</a>
          </p></li><li>
        <header class="post-header">
          <h1 class="post-title"><a class="post-link" href="/2010/11/16/creating-and-consuming-json-data-in-mvc-2/">Creating and consuming JSON data in MVC 2</a></h1>

          <p class="post-meta">
            Nov 16, 2010• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Bernat Ràfales</span></span> • <a href="/categories/uncategorized/">Uncategorized</a> • <a href="/tags/c/">c#</a>, <a href="/tags/jquery/">jquery</a>, <a href="/tags/json/">json</a>, <a href="/tags/mvc/">MVC</a></p>
        </header>

        <div class="post-content">
          <p>Recently I started working in a project using MVC 2. I found out a very useful feature to retrieve JSON data from the server using an Action in a Controller.</p>
<p>This feature is in the base <b>Controller</b> class, which we inherit when we create a new controller. If you take a look into the different methods this class has you'll find those ones:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="c1">//</span>
<span class="c1">// Summary:</span>
<span class="c1">//     Creates a System.Web.Mvc.JsonResult object that serializes the specified</span>
<span class="c1">//     object to JavaScript Object Notation (JSON).</span>
<span class="c1">//</span>
<span class="c1">// Parameters:</span>
<span class="c1">//   data:</span>
<span class="c1">//     The JavaScript object graph to serialize.</span>
<span class="c1">//</span>
<span class="c1">// Returns:</span>
<span class="c1">//     The JSON result object that serializes the specified object to JSON format.</span>
<span class="c1">//     The result object that is prepared by this method is written to the response</span>
<span class="c1">//     by the MVC framework when the object is executed.</span>
<span class="k">protected</span> <span class="k">internal</span> <span class="n">JsonResult</span> <span class="nf">Json</span><span class="p">(</span><span class="kt">object</span> <span class="n">data</span><span class="p">);</span></code></pre></figure>

<p>Along with this method, there are some overloads that allow more parameters, you can see them all in here: <a href="http://msdn.microsoft.com/en-us/library/system.web.mvc.controller.json.aspx">Controller.Json Method</a>. In this example I'll use the first one, which is the simplest.</p>

        </div><p class="post-continue">
            <a href="/2010/11/16/creating-and-consuming-json-data-in-mvc-2/">Read on &rarr;</a>
          </p></li><li>
        <header class="post-header">
          <h1 class="post-title"><a class="post-link" href="/2009/10/12/c-the-and-operators-and-lazy-evaluation/">C#, the &quot;and&quot; operators and lazy evaluation</a></h1>

          <p class="post-meta">
            Oct 12, 2009• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Bernat Ràfales</span></span> • <a href="/categories/uncategorized/">Uncategorized</a> • <a href="/tags/c/">c#</a>, <a href="/tags/programming-tips/">programming tips</a></p>
        </header>

        <div class="post-content">
          <p>Today at work we found a bug. My workmate, not used to C#, usually uses the <i>&amp;</i> operator to compare boolean values. However, in C#, the <i>&amp;</i> operator does not use <a href="http://en.wikipedia.org/wiki/Lazy_evaluation">lazy evaluation</a>.</p>
<p>One curious thing about C# is that it can use two different operators to calculate an <i>and</i> expression: the <a href="http://msdn.microsoft.com/en-us/library/sbf85k1c.aspx">&amp;</a> operator and the <a href="http://msdn.microsoft.com/en-us/library/2a723cdk.aspx">&amp;&amp;</a> operator. The difference between both is that the first one (<i>&amp;</i>) can be used both with integer types and boolean types. When used with integer types it will perform a bitwise comparison between the two, and when used with boolean values it will use the logical <i>and</i> operation between the two boolean values, <b>evaluating all the parts of the expression</b>. This means that using a code like this one:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">if</span> <span class="p">(</span><span class="n">someObject</span> <span class="p">!=</span> <span class="k">null</span> <span class="p">&amp;</span> <span class="n">someObject</span><span class="p">.</span><span class="n">SomeProperty</span> <span class="p">==</span> <span class="n">someValue</span><span class="p">)</span></code></pre></figure>

<p>will throw a runtime error if <i>someObject</i> is null, because it will try to obtain the <i>SomeProperty</i> value.</p>
<p>However, the <i>&amp;&amp;</i> operator is only available to boolean expressions, and it uses lazy evaluation, this is, if the first condition evaluated is false, it will calculate false without evaluating the rest of the expression, because an <i>and</i> is only true if all the expressions are true.</p>
<p>Conclusion, be sure to always use <i>&amp;&amp;</i> when evaluating boolean values if you want to avoid run time surprises :).
</p>

        </div></li></ul>
  <div class="pagination">
    
      <a class="previous" href="/posts/27/">&laquo; Older</a>
    

    
      <a class="next" href="/posts/25/">Newer &raquo;</a>
    
  </div>

</div>

      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <p>
      

Powered by <a href="https://jekyllrb.com">Jekyll</a>. Theme based on <a href="https://github.com/yous/whiteglass">whiteglass</a>
<br>
Subscribe via <a href="https://thinkingeek.com/feed.xml">RSS</a>

    </p>

  </div>

</footer>


  </body>

</html>
