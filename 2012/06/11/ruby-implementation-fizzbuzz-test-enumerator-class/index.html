<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  
  
  <title>A Ruby implementation of the FizzBuzz test using the Enumerator class</title>
  <meta name="description" content="Some days ago I learnt about The FizzBuzz Test and did a simple implementation in Ruby. The FizzBuzz test is a simple algorithm that is supposed to do the following: For each number from 1 to 100: If the number is divisible by 3, print &quot;Fizz&quot; If the number is divisible by 5, print &quot;Buzz&quot; If the number is divisible by both 3 and 5, print &quot;FizzBuzz&quot; Otherwise print the number I was just reading about how you can use the Enumerator class to have generators in the Programming Ruby 1.9 book, and thought that a good implementation could be done using just an Enumerator, so here it is, along with a simple RSpect test: FizzBuzz = Enumerator.new do |yielder| count = 1 loop do if count % 3 == 0 if count % 5 == 0 yielder.yield &quot;FizzBuzz&quot; else yielder.yield &quot;Fizz&quot; end elsif count % 5 == 0 yielder.yield &quot;Buzz&quot; else yielder.yield count end count += 1 end end require_relative &#39;fizzbuzz&#39; describe FizzBuzz do before(:all) do @fizzbuzzes = FizzBuzz.first(100) end it &quot;returns &#39;Fizz&#39; for all multiples of 3&quot; do @fizzbuzzes[3-1].should == &#39;Fizz&#39; end it &quot;returns &#39;Buzz&#39; for all multiples of 5&quot; do @fizzbuzzes[5-1].should == &#39;Buzz&#39; end it &quot;returns &#39;FizzBuzz&#39; for all multiples of 3 and 5&quot; do @fizzbuzzes[60 - 1].should == &#39;FizzBuzz&#39; end it &quot;returns the passed number if not a multiple of 3 or 5&quot; do @fizzbuzzes[1 - 1].should == 1 end end You can also find the code in its GitHub repository: https://github.com/brafales/ruby-fizzbuzz.">
  

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="https://blog.thinkingeek.com/2012/06/11/ruby-implementation-fizzbuzz-test-enumerator-class/">
  
  
  <link rel="alternate" type="application/rss+xml" title="Think In Geek" href="https://blog.thinkingeek.com/feed.xml">

  

  
  <meta property="og:title" content="A Ruby implementation of the FizzBuzz test using the Enumerator class">
  <meta property="og:site_name" content="Think In Geek">
  <meta property="og:url" content="https://blog.thinkingeek.com/2012/06/11/ruby-implementation-fizzbuzz-test-enumerator-class/">
  <meta property="og:description" content="Some days ago I learnt about The FizzBuzz Test and did a simple implementation in Ruby. The FizzBuzz test is a simple algorithm that is supposed to do the following: For each number from 1 to 100: If the number is divisible by 3, print &quot;Fizz&quot; If the number is divisible by 5, print &quot;Buzz&quot; If the number is divisible by both 3 and 5, print &quot;FizzBuzz&quot; Otherwise print the number I was just reading about how you can use the Enumerator class to have generators in the Programming Ruby 1.9 book, and thought that a good implementation could be done using just an Enumerator, so here it is, along with a simple RSpect test: FizzBuzz = Enumerator.new do |yielder| count = 1 loop do if count % 3 == 0 if count % 5 == 0 yielder.yield &quot;FizzBuzz&quot; else yielder.yield &quot;Fizz&quot; end elsif count % 5 == 0 yielder.yield &quot;Buzz&quot; else yielder.yield count end count += 1 end end require_relative &#39;fizzbuzz&#39; describe FizzBuzz do before(:all) do @fizzbuzzes = FizzBuzz.first(100) end it &quot;returns &#39;Fizz&#39; for all multiples of 3&quot; do @fizzbuzzes[3-1].should == &#39;Fizz&#39; end it &quot;returns &#39;Buzz&#39; for all multiples of 5&quot; do @fizzbuzzes[5-1].should == &#39;Buzz&#39; end it &quot;returns &#39;FizzBuzz&#39; for all multiples of 3 and 5&quot; do @fizzbuzzes[60 - 1].should == &#39;FizzBuzz&#39; end it &quot;returns the passed number if not a multiple of 3 or 5&quot; do @fizzbuzzes[1 - 1].should == 1 end end You can also find the code in its GitHub repository: https://github.com/brafales/ruby-fizzbuzz.">
  
  
  <meta name="twitter:card" content="summary">
  
  <meta name="twitter:title" content="A Ruby implementation of the FizzBuzz test using the Enumerator class">
  <meta name="twitter:description" content="Some days ago I learnt about The FizzBuzz Test and did a simple implementation in Ruby. The FizzBuzz test is a simple algorithm that is supposed to do the following: For each number from 1 to 100: ...">
  
  

  <link rel="dns-prefetch" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
<link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700" rel="stylesheet">

  

</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

      <span class="site-title"><a href="/">Think In Geek</a> | </span>
      <span class="site-slogan">In geek we trust</span>

    <nav class="site-nav">
      
        
        <a class="page-link" href="/arm-assembler-raspberry-pi/">Arm Assembler Raspberry Pi</a>
      
        
        <a class="page-link" href="/gcc-tiny/">GCC tiny</a>
      
        
        <a class="page-link" href="/author/brafales/">Posts by Bernat Ràfales</a>
      
        
        <a class="page-link" href="/archives/">Archives</a>
      
    </nav>

  </div>

</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    
      <h1 class="post-title" itemprop="name headline">A Ruby implementation of the FizzBuzz test using the Enumerator class</h1>
    
    <p class="post-meta"><time datetime="2012-06-11T18:02:32+00:00" itemprop="datePublished">Jun 11, 2012</time> • <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Bernat Ràfales</span></span> •
  
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
        <a href="/categories/uncategorized/">Uncategorized</a>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  


 •
  
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
        <a href="/tags/enumerator/">enumerator</a>,
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
        <a href="/tags/fizzbuzz/">fizzbuzz</a>,
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
        <a href="/tags/rspec/">rspec</a>,
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
        <a href="/tags/ruby/">ruby</a>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  

</p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>
Some days ago I learnt about The FizzBuzz Test and did a simple implementation in Ruby. The FizzBuzz test is a simple algorithm that is supposed to do the following:
</p>
<p>
For each number from 1 to 100:
<ul>
  <li>If the number is divisible by 3, print "Fizz"</li>
  <li>If the number is divisible by 5, print "Buzz"</li>
  <li>If the number is divisible by both 3 and 5, print "FizzBuzz"</li>
  <li>Otherwise print the number</li>
</ul>
</p>
<p>
I was just reading about how you can use the <a href="http://www.ruby-doc.org/core-1.9.3/Enumerator.html">Enumerator</a> class to have generators in the <a href="http://pragprog.com/book/ruby3/programming-ruby-1-9">Programming Ruby 1.9</a> book, and thought that a good implementation could be done using just an Enumerator, so here it is, along with a simple RSpect test:
</p>
<p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">FizzBuzz</span> <span class="o">=</span> <span class="no">Enumerator</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span><span class="n">yielder</span><span class="o">|</span>
  <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="kp">loop</span> <span class="k">do</span>
    <span class="k">if</span> <span class="n">count</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span>
      <span class="k">if</span> <span class="n">count</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">yielder</span><span class="p">.</span><span class="nf">yield</span> <span class="s2">"FizzBuzz"</span>
      <span class="k">else</span>
        <span class="n">yielder</span><span class="p">.</span><span class="nf">yield</span> <span class="s2">"Fizz"</span>
      <span class="k">end</span>
    <span class="k">elsif</span> <span class="n">count</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span>
      <span class="n">yielder</span><span class="p">.</span><span class="nf">yield</span> <span class="s2">"Buzz"</span>
    <span class="k">else</span> 
      <span class="n">yielder</span><span class="p">.</span><span class="nf">yield</span> <span class="n">count</span>
    <span class="k">end</span>
    <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></figure>

</p>
<p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="nb">require_relative</span> <span class="s1">'fizzbuzz'</span>

<span class="n">describe</span> <span class="no">FizzBuzz</span> <span class="k">do</span>
  <span class="n">before</span><span class="p">(</span><span class="ss">:all</span><span class="p">)</span> <span class="k">do</span>
    <span class="vi">@fizzbuzzes</span> <span class="o">=</span> <span class="no">FizzBuzz</span><span class="p">.</span><span class="nf">first</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="n">it</span> <span class="s2">"returns 'Fizz' for all multiples of 3"</span> <span class="k">do</span>
    <span class="vi">@fizzbuzzes</span><span class="p">[</span><span class="mi">3</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="nf">should</span> <span class="o">==</span> <span class="s1">'Fizz'</span>
  <span class="k">end</span>

  <span class="n">it</span> <span class="s2">"returns 'Buzz' for all multiples of 5"</span> <span class="k">do</span>
    <span class="vi">@fizzbuzzes</span><span class="p">[</span><span class="mi">5</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="nf">should</span> <span class="o">==</span> <span class="s1">'Buzz'</span>

  <span class="k">end</span>

  <span class="n">it</span> <span class="s2">"returns 'FizzBuzz' for all multiples of 3 and 5"</span> <span class="k">do</span>
    <span class="vi">@fizzbuzzes</span><span class="p">[</span><span class="mi">60</span> <span class="o">-</span> <span class="mi">1</span><span class="p">].</span><span class="nf">should</span> <span class="o">==</span> <span class="s1">'FizzBuzz'</span>

  <span class="k">end</span>

  <span class="n">it</span> <span class="s2">"returns the passed number if not a multiple of 3 or 5"</span> <span class="k">do</span>
    <span class="vi">@fizzbuzzes</span><span class="p">[</span><span class="mi">1</span> <span class="o">-</span> <span class="mi">1</span><span class="p">].</span><span class="nf">should</span> <span class="o">==</span> <span class="mi">1</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></figure>

</p>
<p>
You can also find the code in its GitHub repository: <a href="https://github.com/brafales/ruby-fizzbuzz">https://github.com/brafales/ruby-fizzbuzz</a>.
</p>

  </div>

</article>

<div class="pagination">

  <a class="previous" href="/2012/06/07/push-git-tags-remote-repository/">&laquo; Push git tags to a remote repository</a>


  <a class="next" href="/2012/07/16/ruby-rails-varnish-user-dependent-content/">Ruby on Rails, Varnish and user dependent content &raquo;</a>

</div>



      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <p>
      

Powered by <a href="https://jekyllrb.com">Jekyll</a>. Theme based on <a href="https://github.com/yous/whiteglass">whiteglass</a>
<br>
Subscribe via <a href="https://blog.thinkingeek.com/feed.xml">RSS</a>

    </p>

  </div>

</footer>


  </body>

</html>
